---
import LayoutDefault from '~/layouts/LayoutDefault.astro'
import '~/styles/link.css'
---

<LayoutDefault  title='友链 | ShinX'>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const friends: {
                name: string;
                avatar: string;
                description: string;
                url: string;
                category: string;
            }[] = [
                {
                    name: "Moeyy",
                    avatar: "https://moeyy.cn/logourl",
                    description: "一条有远大理想的咸鱼。",
                    url: "https://moeyy.cn",
                    category: "recommend"
                },
                {
                    name: "安知鱼",
                    avatar: "https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg",
                    description: "生活明朗，万物可爱。",
                    url: "https://blog.anheyu.com/",
                    category: "recommend"
                },


            ];

            friends.forEach((friend) => {
                const card = createCard(friend);

                if (friend.category === 'recommend') {
                    const recommendContainer = document.getElementById('recommend-cards');
                    if (recommendContainer) {
                        recommendContainer.appendChild(card);
                    }
                } else if (friend.category === 'buddy') {
                    const buddyContainer = document.getElementById('buddy-cards');
                    if (buddyContainer) {
                        buddyContainer.appendChild(card);
                    }
                }
            });
        });

        function createCard(friend: {
            name: string;
            avatar: string;
            description: string;
            url: string;
        }) {
            const card = document.createElement('a');
            card.href = friend.url;
            card.target = "_blank";
            card.rel = "noopener noreferrer";
            card.classList.add('card');

            const avatarWrapper = document.createElement('div');
            avatarWrapper.classList.add('avatar-wrapper');

            const avatar = document.createElement('img');
            avatar.src = friend.avatar;
            avatar.alt = `${friend.name} 的头像`;
            avatar.classList.add('avatar');
            avatarWrapper.appendChild(avatar);

            const contentWrapper = document.createElement('div');
            contentWrapper.classList.add('content-wrapper');

            const name = document.createElement('div');
            name.textContent = friend.name;
            name.classList.add('name');

            const description = document.createElement('div');
            description.textContent = friend.description;
            description.classList.add('description');

            contentWrapper.appendChild(name);
            contentWrapper.appendChild(description);

            card.appendChild(avatarWrapper);
            card.appendChild(contentWrapper);

            return card;
        }
    </script>
    <div class="page-title">
        <h2>&nbsp友链&nbsp</h2>
    </div>
    <div class="page-description">
        <p>若希望您的网站出现在本页面，您可以通过 <a href="/comment"> 留言板 </a> 留言，或 <a href="mailto:admin@zhengweixin.top"> 邮件 </a> 联系我。</p>
        <p>你需要提供以下信息：<span id="required-information">名字、头像、链接、描述</span></p>
        <div class="my-url">下面是我的信息：
            <ul>
                <li>name：<span id="my-profile">ShinX</span></li>
                <li>avatar：<span id="my-profile">https://zhengweixin.top/avatar.jpg</span></li>
                <li>url：<span id="my-profile">https://zhengweixin.top/</span></li>
                <li>description：<span id="my-profile">往日不悔，未来可期。</span></li>
            </ul>
        </div>
    </div>

    <!-- 推荐访问类友链容器 -->
    <div class="category-container" id="recommend-container">
        <h3 class="category-title">推荐访问</h3>
        <div class="card-container" id="recommend-cards">
            <!-- 推荐访问类友链卡片将在这里呈现 -->
        </div>
    </div>

    <!-- 小伙伴们类友链容器 -->
    <div class="category-container" id="buddy-container">
        <h3 class="category-title">小伙伴们</h3>
        <div class="card-container" id="buddy-cards">
            <!-- 小伙伴们类友链卡片将在这里呈现 -->
             <p>还没有朋友ಠ_ಠ</p>
        </div>
    </div>
</LayoutDefault>
